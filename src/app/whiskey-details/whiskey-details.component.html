<div class="container-fluid">
  <div class="row">
    <div class="col-md-6 my-3" *ngIf="!editMode">
      <h4>{{whiskeyDetails.whiskey.name}}</h4>
      <p class="preformatted-description">{{whiskeyDetails.whiskey.description}}</p>
      <p>{{whiskeyDetails.whiskey.distiller}}</p>
      <button (click)="editButton()" class="btn btn-danger">Edit</button>
    </div>
    <div class="col-md-6 my-3" *ngIf="editMode">
      <form (ngSubmit)="saveWhiskey()" #whiskeyForm='ngForm'>

        <div class="form-group">
          <label for="name">Expression</label>
          <input type="text" class="form-control" id="name" required [(ngModel)]="whiskeyDetails.whiskey.name"
            name="name" #name="ngModel">
          <div [hidden]="name.valid || name.pristine" class="alert alert-danger"> Name is required </div>
        </div>

        <div class="form-group">
          <label for="name">Distiller/Brand</label>
          <input type="text" class="form-control" id="distiller" required [(ngModel)]="whiskeyDetails.whiskey.distiller"
            name="distiller" #distiller="ngModel">
          <div [hidden]="distiller.valid || distiller.pristine" class="alert alert-danger"> Distiller is required </div>
        </div>

        <div class="form-group">
          <label for="name">Description</label>
          <textarea rows="3" class="form-control" id="description" required [(ngModel)]="whiskeyDetails.whiskey.description"
            name="description" #description="ngModel"></textarea>
          <div [hidden]="description.valid || description.pristine" class="alert alert-danger"> Description is required </div>
        </div>

        <button type="submit" class="btn btn-success" [disabled]="!whiskeyForm.form.valid">Submit</button>
      </form>

      {{whiskeyDetails.whiskey|json}}
    </div>
    <div class="col-md-6 my-3">
      <app-price-graph></app-price-graph>
    </div>
  </div>
</div>
